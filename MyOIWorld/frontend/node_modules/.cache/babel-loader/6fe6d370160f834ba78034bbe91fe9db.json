{"ast":null,"code":"import _defineProperty from\"C:/Users/krish/PycharmProjects/MyOIWorld/venv/MyOIWorld/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/krish/PycharmProjects/MyOIWorld/venv/MyOIWorld/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/krish/PycharmProjects/MyOIWorld/venv/MyOIWorld/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/krish/PycharmProjects/MyOIWorld/venv/MyOIWorld/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/krish/PycharmProjects/MyOIWorld/venv/MyOIWorld/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/krish/PycharmProjects/MyOIWorld/venv/MyOIWorld/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./App.css';import{LineChart,ResponsiveContainer,Legend,Tooltip,Line,XAxis,YAxis,CartesianGrid}from'recharts';import{Component}from'react';import useWebSocket from'react-use-websocket';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=/*#__PURE__*/function(_Component){_inherits(HomePage,_Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);_this.handleState=function(key,data){_this.setState(_defineProperty({},key,data));};_this.state={nifty:\"15220\",bankNifty:\"34552\",cssNifty:\"green\",cssBankNifty:\"red\"};_this.handleButton=_this.handleButton.bind(_assertThisInitialized(_this));_this.handleState=_this.handleState.bind(_assertThisInitialized(_this));return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(\"Starting\");// const url = \"wss://demo.piesocket.com/v3/channel_1?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self\"\nvar url=\"wss://ewstream.edelweiss.in/\";var updatesSocket=new WebSocket(url);var data=\"NONE\";updatesSocket.onmessage=function(e){// setTimeout(() => {  console.log(\"World!\"); }, 1000);\nconsole.log(e.data);data=e.data;var min=15100;var max=15260;var prevNifty=Number(_this2.state.nifty);var randNifty=Number(min+Math.random()*(max-min)).toFixed(2);if(randNifty>prevNifty){_this2.setState({cssNifty:\"green\"});}else{_this2.setState({cssNifty:\"red\"});}min=35100;max=35260;var prevBankNifty=Number(_this2.state.bankNifty);var randBankNifty=Number(min+Math.random()*(max-min)).toFixed(2);if(randBankNifty>prevBankNifty){_this2.handleState(\"cssBankNifty\",\"green\");}else{_this2.handleState(\"cssBankNifty\",\"red\");}_this2.handleState(\"nifty\",randNifty);_this2.handleState(\"bankNifty\",randBankNifty);console.log(_this2.state);};updatesSocket.onclose=function(e){console.error('Chat socket closed unexpectedly');};}},{key:\"handleButton\",value:function handleButton(e){e.preventDefault();this.setState(_defineProperty({},e.target.name,[e.target.value]));console.log(e.target.value);console.log(this.state);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"Main\",children:[/*#__PURE__*/_jsxs(\"nav\",{class:\"navbar sticky-top navbar-light bg-light\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"navbar-header\",children:/*#__PURE__*/_jsx(\"a\",{class:\"navbar-brand\",href:\"#\",children:\" My OI World\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex flex-row\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-success navbar-btn me-1\",value:\"Strategy Builder\",onClick:this.handleButton,children:\"Strategy Builder\"}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-success navbar-btn me-1\",value:\"Open Interest\",onClick:this.handleButton,children:\"Open Interest\"}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-success navbar-btn me-1\",value:\"Straddle Charts\",onClick:this.handleButton,children:\"Straddle Charts\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary dropdown-toggle\",\"data-bs-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown-menu dropdown-menu-end\",style:{marginTop:\"8px\"},children:[/*#__PURE__*/_jsx(\"button\",{class:\"dropdown-item\",type:\"button\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"button\",{class:\"dropdown-item\",type:\"button\",children:\"Logout\"})]})]})]})]}),/*#__PURE__*/_jsx(AtmChart,{data:pdata})]});}}]);return HomePage;}(Component);export default HomePage;","map":{"version":3,"names":["LineChart","ResponsiveContainer","Legend","Tooltip","Line","XAxis","YAxis","CartesianGrid","Component","useWebSocket","HomePage","props","handleState","key","data","setState","state","nifty","bankNifty","cssNifty","cssBankNifty","handleButton","bind","console","log","url","updatesSocket","WebSocket","onmessage","e","min","max","prevNifty","Number","randNifty","Math","random","toFixed","prevBankNifty","randBankNifty","onclose","error","preventDefault","target","name","value","marginTop","pdata"],"sources":["C:/Users/krish/PycharmProjects/MyOIWorld/venv/MyOIWorld/frontend/src/HomePage.js"],"sourcesContent":["import './App.css';\r\nimport {\r\n    LineChart,\r\n    ResponsiveContainer,\r\n    Legend, Tooltip,\r\n    Line,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid\r\n} from 'recharts';\r\nimport { Component } from 'react';\r\nimport useWebSocket from 'react-use-websocket';\r\n\r\n\r\nclass HomePage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            nifty: \"15220\",\r\n            bankNifty : \"34552\",\r\n            cssNifty : \"green\",\r\n            cssBankNifty : \"red\"\r\n        };\r\n        this.handleButton = this.handleButton.bind(this);\r\n        this.handleState = this.handleState.bind(this);\r\n    }\r\n  \r\n    componentDidMount(){\r\n        console.log(\"Starting\");\r\n        // const url = \"wss://demo.piesocket.com/v3/channel_1?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self\"\r\n        const url = \"wss://ewstream.edelweiss.in/\";\r\n        const updatesSocket = new WebSocket(url);\r\n        var data = \"NONE\";\r\n        updatesSocket.onmessage = (e) => {\r\n            // setTimeout(() => {  console.log(\"World!\"); }, 1000);\r\n            console.log(e.data);\r\n            data = e.data\r\n            var min = 15100;\r\n            var max = 15260;\r\n            var prevNifty = Number(this.state.nifty);\r\n            const randNifty = Number(min + Math.random() * (max - min)).toFixed(2);\r\n            if(randNifty > prevNifty){\r\n                this.setState({cssNifty:\"green\"});\r\n            }\r\n            else{\r\n                this.setState({cssNifty:\"red\"});\r\n            }\r\n\r\n            min = 35100;    \r\n            max = 35260;\r\n            var prevBankNifty = Number(this.state.bankNifty);\r\n            const randBankNifty = Number(min + Math.random() * (max - min)).toFixed(2);\r\n            if(randBankNifty > prevBankNifty){\r\n                this.handleState(\"cssBankNifty\",\"green\");\r\n            }\r\n            else{\r\n                this.handleState(\"cssBankNifty\",\"red\");\r\n            }\r\n\r\n            this.handleState(\"nifty\",randNifty);\r\n            this.handleState(\"bankNifty\",randBankNifty);\r\n            console.log(this.state);\r\n\r\n        };\r\n      \r\n        updatesSocket.onclose = function(e) {\r\n            console.error('Chat socket closed unexpectedly');\r\n        };\r\n    } \r\n    handleState = (key,data) => {\r\n        this.setState({[key]:data})\r\n    }\r\n    handleButton(e){\r\n        e.preventDefault(); \r\n        this.setState({[e.target.name] : [e.target.value]});\r\n        console.log(e.target.value);\r\n        console.log(this.state);\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        \r\n        return (\r\n            <div className=\"Main\">\r\n            <nav class=\"navbar sticky-top navbar-light bg-light\">\r\n                <div class=\"navbar-header\">\r\n               \r\n                  <a class=\"navbar-brand\" href=\"#\"> My OI World</a>\r\n                </div>\r\n                <div class=\"d-flex flex-row\">\r\n                  <button class=\"btn btn-success navbar-btn me-1\" value=\"Strategy Builder\" onClick={this.handleButton}>Strategy Builder</button>\r\n                  <button class=\"btn btn-success navbar-btn me-1\" value=\"Open Interest\" onClick={this.handleButton}>Open Interest</button>\r\n                  <button class=\"btn btn-success navbar-btn me-1\" value=\"Straddle Charts\" onClick={this.handleButton}>Straddle Charts</button>\r\n                  <div class=\"btn-group\">\r\n                      <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                      Username\r\n                      </button>\r\n                      <div class=\"dropdown-menu dropdown-menu-end\" style={{marginTop : \"8px\"}}>\r\n                        <button class=\"dropdown-item\" type=\"button\">My Profile</button>\r\n                        <button class=\"dropdown-item\" type=\"button\">Logout</button>\r\n                      </div>\r\n                   </div>\r\n                </div>\r\n              </nav>\r\n                \r\n                \r\n              \r\n                <AtmChart data={pdata}/>\r\n                \r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}